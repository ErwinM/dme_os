1000 : 0019     |     ldi r1, 0x3
1002 : 0012     |     ldi r2, 0x2
1004 : d088     |     wpte r2, r1
1006 : 081a     |     ldi r2, 0x103
1008 : 001b     |     ldi r3, 3
100a : d0d0     |     wpte r3, r2
100c : d008     |     wpte r0, r1
100e : 0009     |     ldi r1, 1
1010 : d050     |     wpte r1, r2
1012 : 0039     |     ldi r1, 7
1014 : 081a     |     la16 r2, 0x703
1016 : bc0d     |     
1018 : d050     |     wpte r1, r2
101a : 081a     |     ld16 r2, 0x1f03
101c : bc3d     |     
101e : 00f9     |     ldi r1, 31
1020 : d050     |     wpte r1, r2
1022 : cc01     |     lcr r1
1024 : a889     |     ori r1, r1, 4
1026 : ce40     |     scr r1
1028 : 0d01     |     la16 r1, _trap
102a : bc20     |     
102c : d801     |     wivec r1
102e : 0001     |     la16 r1, 0x4000
1030 : bc80     |     
1032 : 9446     |     mov sp, r1
1034 : 03d2     |     la16 r2, _kmain
1036 : bc21     |     
1038 : a279     |     addi r1, pc, 2
103a : c202     |     br.r r2
103c : fe00     |     hlt
     :          | _kprintf:
103e : be01     |     push	r1
1040 : be05     |     push	bp
1042 : 9585     |     mov	bp, sp
1044 : 0014     |     ldi	r4, 2
1046 : 97a6     |     sub	sp, sp, r4
1048 : 91f8     |     stw	-2(bp),r0
104a : 0344     |     la16	r4,L3_console
104c : bc23     |     
104e : c204     |     br.r r4
     :          | L2_console:
1050 : 89fb     |     ldw	r4,-2(bp)
1052 : 8812     |     ldw	r3,4(bp)
1054 : 951c     |     add	r4,r4,r3
1056 : b224     |     ldb	r4,r0(r4)
1058 : be04     |     push	r4
105a : 0552     |     la16	r2,_putc ; jaddr
105c : bc21     |     
105e : a279     |     addi	r1,pc,2
1060 : c202     |     br.r	r2
1062 : 89fb     |     ldw	r4,-2(bp)
1064 : a224     |     addi	r4,r4,1
1066 : 8dfb     |     stw	-2(bp),r4
     :          | L3_console:
1068 : 89fb     |     ldw	r4,-2(bp)
106a : 8812     |     ldw	r3,4(bp)
106c : 951c     |     add	r4,r4,r3
106e : b224     |     ldb	r4,r0(r4)
1070 : 9d00     |     skip.eq r4,r0
1072 : 3fdc     |     br L2_console
     :          | L1_console:
1074 : 9546     |     mov	sp, bp
1076 : c005     |     pop	bp
1078 : c007     |     pop	pc
     :          | _kmain:
107a : be01     |     push	r1
107c : be05     |     push	bp
107e : 9585     |     mov	bp, sp
1080 : 0d14     |     la16	r4,L2_kmain
1082 : bc23     |     
1084 : be04     |     push	r4
1086 : 01f2     |     la16	r2,_kprintf ; jaddr
1088 : bc21     |     
108a : a279     |     addi	r1,pc,2
108c : c202     |     br.r	r2
108e : 0aa2     |     la16	r2,_kinit1 ; jaddr
1090 : bc21     |     
1092 : a279     |     addi	r1,pc,2
1094 : c202     |     br.r	r2
1096 : 0004     |     ld16	r4, 2048
1098 : bc13     |     
109a : be04     |     push	r4
109c : 0b22     |     la16	r2,_kfree ; jaddr
109e : bc21     |     
10a0 : a279     |     addi	r1,pc,2
10a2 : c202     |     br.r	r2
10a4 : 9401     |     mov	r1,r0
     :          | L1_kmain:
10a6 : c005     |     pop	bp
10a8 : c007     |     pop	pc
     :          | _putc:
10aa : be01     |     push r1
10ac : be05     |     push bp
10ae : 9585     |     mov bp, sp
10b0 : 0c84     |     la16 r4, 0xff90
10b2 : bdff     |     
     :          | check_tx_free_uart:
10b4 : 0029     |     ldi r1, 5
10b6 : 9461     |     add r1, r1, r4
10b8 : b009     |     ldw r1, r0(r1)
10ba : 0302     |     ldi r2, 0x60
10bc : 9851     |     and r1, r1, r2
10be : 9e8a     |     addskp.z r2, r2, r1
10c0 : 3ff2     |     br check_tx_free_uart
10c2 : a2a9     |     addi r1, bp, 4
10c4 : b00b     |     ldw r3, r0(r1)
10c6 : b623     |     stb r0(r4), r3
10c8 : c005     |     pop	bp
10ca : c007     |     pop	pc; bp + 8 has n
     :          | _stosw:
10cc : be01     |     push	r1
10ce : be05     |     push	bp
10d0 : 9585     |     mov	bp, sp
10d2 : 8810     |     ldw	r1,4(bp) ; load dst
10d4 : 8819     |     ldw	r2,6(bp) ; load c
10d6 : 8822     |     ldw	r3,8(bp) ; load n
10d8 : a45b     |     subi r3, r3, 2
     :          | _stoswL1:
10da : 945c     |     add	r4,r1,r3
10dc : b422     |     stw	r0(r4),r2
10de : ad9b     |     addskpi.z r3, r3, -2
10e0 : 3ff8     |     br _stoswL1
10e2 : b40a     |     stw r0(r1), r2
10e4 : c005     |     pop	bp
10e6 : c007     |     pop	pc
     :          | _stosb:
10e8 : be01     |     push	r1
10ea : be05     |     push	bp
10ec : 9585     |     mov	bp, sp
10ee : 8810     |     ldw	r1,4(bp) ; load dst
10f0 : 8819     |     ldw	r2,6(bp) ; load c
10f2 : 8822     |     ldw	r3,8(bp) ; load n
10f4 : a41b     |     subi r3, r3, 1
     :          | _stosbL1:
10f6 : 945c     |     add	r4,r1,r3
10f8 : b622     |     stb	r0(r4),r2
10fa : addb     |     addskpi.z r3, r3, -1
10fc : 3ff8     |     br _stosbL1
10fe : b60a     |     stb r0(r1), r2
1100 : c005     |     pop	bp
1102 : c007     |     pop	pc;	DME assembly file, generated by lcc 4.2
     :          | _memset:
1104 : be01     |     push	r1
1106 : be05     |     push	bp
1108 : 9585     |     mov	bp, sp
110a : 8823     |     ldw	r4,8(bp)
110c : a624     |     andi	r4,r4,1
110e : 9d00     |     skip.eq r4,r0
1110 : 202a     |     br L2_string
1112 : 8813     |     ldw	r4,4(bp)
1114 : a624     |     andi	r4,r4,1
1116 : 9d00     |     skip.eq r4,r0
1118 : 2022     |     br L2_string
111a : 881b     |     ldw	r4,6(bp)
111c : db12     |     shl	r3, r4, 8
111e : 9b1c     |     or	r4,r4,r3
1120 : 8c1b     |     stw	6(bp),r4
1122 : 8823     |     ldw	r4,8(bp)
1124 : be04     |     push	r4
1126 : 881b     |     ldw	r4,6(bp)
1128 : be04     |     push	r4
112a : 8813     |     ldw	r4,4(bp)
112c : be04     |     push	r4
112e : 0662     |     la16	r2,_stosw ; jaddr
1130 : bc21     |     
1132 : a279     |     addi	r1,pc,2
1134 : c202     |     br.r	r2
1136 : 0a84     |     la16	r4,L3_string
1138 : bc23     |     
113a : c204     |     br.r r4
     :          | L2_string:
113c : 8823     |     ldw	r4,8(bp)
113e : be04     |     push	r4
1140 : 881b     |     ldw	r4,6(bp)
1142 : be04     |     push	r4
1144 : 8813     |     ldw	r4,4(bp)
1146 : be04     |     push	r4
1148 : 0742     |     la16	r2,_stosb ; jaddr
114a : bc21     |     
114c : a279     |     addi	r1,pc,2
114e : c202     |     br.r	r2
     :          | L3_string:
1150 : c005     |     pop	bp
1152 : c007     |     pop	pc
     :          | _kinit1:
1154 : be01     |     push	r1
1156 : be05     |     push	bp
1158 : 9585     |     mov	bp, sp
115a : 0d64     |     la16	r4,_kmem
115c : bc23     |     
115e : b420     |     stw	r0(r4),r0
     :          | L2_kalloc:
1160 : c005     |     pop	bp
1162 : c007     |     pop	pc
     :          | _kfree:
1164 : be01     |     push	r1
1166 : be05     |     push	bp
1168 : 9585     |     mov	bp, sp
116a : 0014     |     ldi	r4, 2
116c : 97a6     |     sub	sp, sp, r4
116e : 0004     |     ld16	r4, 2048
1170 : bc13     |     
1172 : be04     |     push	r4
1174 : 000c     |     ld16	r4, 1
1176 : be04     |     push	r4
1178 : 8813     |     ldw	r4,4(bp)
117a : be04     |     push	r4
117c : 0822     |     la16	r2,_memset ; jaddr
117e : bc21     |     
1180 : a279     |     addi	r1,pc,2
1182 : c202     |     br.r	r2
1184 : 8813     |     ldw	r4,4(bp)
1186 : 8dfb     |     stw	-2(bp),r4
1188 : 89fb     |     ldw	r4,-2(bp)
118a : 0d63     |     la16	r3,_kmem
118c : bc22     |     
118e : b01b     |     ldw	r3,r0(r3)
1190 : b423     |     stw	r0(r4),r3
1192 : 0d64     |     la16	r4,_kmem
1194 : bc23     |     
1196 : 89fa     |     ldw	r3,-2(bp)
1198 : b423     |     stw	r0(r4),r3
     :          | L3_kalloc:
119a : 9546     |     mov	sp, bp
119c : c005     |     pop	bp
119e : c007     |     pop	pc
     :          | _trap:
11a0 : babe     |     defw 0xbabe
     :          | L2_kmain:
11a2 : 444d     |     defstr "DME OS.."
11a4 : 4520     |     
11a6 : 4f53     |     
11a8 : 2e2e     |     
11aa : 0000     |     
     :          | _kmem:
11ac : 0000     |     defs 2
